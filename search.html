<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>这个是登录的页面</title>
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="js/bt/bootstrap.css" />
    <style>
        body,ul,h4,small,dl,dd,p{ margin: 0; padding: 0;}
        li{list-style: none;}
        a{text-decoration: none;}
        .margin{width:1140px;margin: 0 auto;}
        img{ vertical-align: top;}
        .clear:after{content: ""; display: block; clear: both;}
    </style>
</head>
<body>
    <div id="nav">
        <div class="margin clear">
            <ul class="list-l">
                <li><a href="#">康佳新闻</a><span>|</span></li>
                <li><a href="#">加入康佳</a><span>|</span></li>
                <li><a href="#">校园招聘</a><span>|</span></li>
                <li><a href="#">康佳社区</a><span>|</span></li>
                <li><a href="#">大宗采购</a><span>|</span></li>
                <li><a href="#">积分商城</a><span>|</span></li>
            </ul>
            <ul class="list-r">
                <li><a href="#">登录</a><span>|</span></li>
                <li><a href="#">注册</a></li>
                <li><a href="car.html"><img src="img/buycar.png" />购物车<span>(0)</span></a></li>
            </ul>
        </div>
    </div>

    <div id="banner">
        <div class="margin">
             <ul class="clear">
                <li><a href="#"><img src="https://www.konka.com/themes/pc/konka/images/logo.png?v6d6e" /></a></li>
                <li><a href="index.html">首页</a></li>
                <li><a href="#">电视</a></li>
                <li><a href="#">冰箱</a></li>
                <li><a href="#">洗衣机</a></li>
                <li><a href="#">手机</a></li>
                <li><a href="#">生活电器</a></li>
                <li><a href="#">智能家居</a></li>
                <li><a href="#">智能硬件</a></li>
                <li><a href="#">K迷优品</a></li>
                <li><a href="#">大宗采购</a></li>    
                <li><a href="#">服务</a></li>
                <li><a href="#"><img src="img/search.png" /></a></li>
            </ul>
            
        </div> 
    </div>
    <div id="ss-txt">
            <input type="text" id="txt">
            <button><a href="index.html" style="text-decoration:none; color:#333;">搜索一下</a></button>
            <ul class="ss-res list">
                    <!-- <li></li> -->
                
            </ul>
        </div>

    <div id="footer">
        <div class="margin">
            <ul class="clear">
                <li>
                    <div class="imgbox"><img src="https://www.konka.com/public/images/29/72/32/508be9abdf01173241a65b671c4ec6fff242e359.png?72574_OW29_OH29" /></div>
                    <div class="hb"><h4>全场包邮</h4><small>全场商品免费送到家</small></div>
                </li>
                <li>
                    <div class="imgbox"><img src="https://www.konka.com/public/images/8e/e7/58/dda3bbcea1734e9cc57f733bd39c7bdfa8a098c9.png?72590_OW23_OH24" /></div>
                    <div class="hb"><h4>质量保证</h4><small>享受国家三包政策</small></div>
                </li>
                <li>
                    <div class="imgbox"><img src="https://www.konka.com/public/images/0a/f6/6b/fa606e57f51c1c20bee1b08b460b546a2308535a.png?72616_OW24_OH24" /></div>
                    <div class="hb"><h4>权益保障</h4><small>7天包退15天包换</small></div>
                </li>
                <li>
                    <div class="imgbox"><img src="https://www.konka.com/public/images/18/f6/51/e7f1acfff43fd63737b75f9dd040c04875dbef80.png?72627_OW24_OH24" /></div>
                    <div class="hb"><h4>放心服务</h4><small>24小时内上门服务</small></div>
                </li>
                <li>
                    <div class="imgbox"><img src="https://www.konka.com/public/images/e1/df/92/2304a231ed8691bc454c367e282052810d5634d0.png?72639_OW25_OH25" /></div>
                    <div class="hb"><h4>意外惊喜</h4><small>限时打折优惠不断</small></div>
                </li>
               
            </ul>

            <div class="footer-b clear">
                <dl>
                    <dt>帮助中心</dt>
                    <dd><a href="#" target="_blank">购买指南</a></dd>
                    <dd><a href="#" target="_blank">支付方式</a></dd>
                    <dd><a href="#" target="_blank">配送方式</a></dd>
                    <dd><a href="#" target="_blank">售后政策</a></dd>
                    <dd><a href="#" target="_blank">防伪查询</a></dd>
                </dl>
                <dl>
                    <dt>新闻中心</dt>
                    <dd><a href="#" target="_blank">集团新闻</a></dd>
                    <dd><a href="#" target="_blank">媒体报道</a></dd>
                </dl>
                <dl>
                    <dt>投资者关系</dt>
                    <dd><a href="#" target="_blank">公司概要</a></dd>
                    <dd><a href="#" target="_blank">高管团队</a></dd>
                    <dd><a href="#" target="_blank">最新报告</a></dd>
                    <dd><a href="#" target="_blank">公司治理</a></dd>
                </dl>
                <dl>
                    <dt>集团成员网站</dt>
                    <dd><a href="#" target="_blank">华成桥集团</a></dd>
                    <dd><a href="#" target="_blank">康佳全球服务中心</a></dd>
                    <dd><a href="#" target="_blank">康佳国际营销</a></dd>
                    <dd><a href="#" target="_blank">康佳移动互联科技</a></dd>
                    <dd><a href="#" target="_blank">康佳壹视界商业显示</a></dd>
                    <dd><a href="#" target="_blank">康佳智能电器</a></dd>
                </dl>
                <dl>
                    <dt>关于我们</dt>
                    <dd><a href="#" target="_blank">了解康佳</a></dd>
                    <dd><a href="#" target="_blank">加入康佳</a></dd>
                    <dd><a href="#" target="_blank">校园招聘</a></dd>
                    <dd><a href="#" target="_blank">联系我们</a></dd>
                </dl>
                <dl>
                    <dt>关注我们</dt>
                    <dd><a href="#" target="_blank">官方微博</a></dd>
                    <dd><a href="#" target="_blank">官方微信</a></dd>
                    <dd><a href="#" target="_blank">官方社区</a></dd>
                    <dd><a href="#" target="_blank">K迷俱乐部</a></dd>
                    <dd><a href="#" target="_blank">康佳微商城</a></dd>
                    <dd><a href="#" target="_blank">康佳服务</a></dd>
                    <dd><a href="#" target="_blank">腾讯视频TV端</a></dd>
                </dl>
                <div class="links-iphone">
                    <p class="hotline">24小时全国服务热线</p>
                    <p class="tele">400-880-0016</p>
                    <a href="#" target="_blank" class="Customer zixun">
                        <span>购买咨询</span>
                    </a> 
                    
                    <a style="margin-left: 10px;" target="_blank" href="#" class="Customer">
                        <span>售后服务</span>
                    </a>
                </div>
            </div>
        </div>
    </div>    
</body>
<script src="js/ajax.1.0.js"></script>
<script src="js/public.js"></script>
<script>
function Search(options){
        this.url = options.url;
        this.ul = options.ul;
        this.txt = options.txt;

        this.addEvent()
    }
    Search.prototype.addEvent = function(){
        var that = this;
        this.txt.onkeyup = function(){
            that.value = this.value
            that.load()
        }
    }
    Search.prototype.load = function(){
        console.log(this.value)
        var that = this;
        jsonp(this.url,function(res){
            console.log(res)
            that.res = res.s;
            console.log(res.s)
            that.display();
        },{
            column:"cb",
            cb:"ewqeq",
            wd:this.value
        })
    }
    
    Search.prototype.display = function(){
        var str = "";
        for(var i=0;i<this.res.length;i++){
            str += `<li>${this.res[i]}</li>`
        }
        this.ul.innerHTML = str;
    }
new Search({
    url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",
    ul:document.getElementsByClassName("ss-res")[0],
    txt:document.getElementById("ss-txt").children[0]
})
// ---------------
var olist = document.querySelector(".list")
    var ali = olist.children;
    var otxt = document.getElementById("txt");
    var onOff = true;
    var index = 0;
    otxt.onclick = function(eve){
        var e = eve || window.event;
        stopBubble(e)
        if(onOff){
            olist.style.display = "block";
            setAction()
            onOff = false;
        }else{
            olist.style.display = "none";
            onOff = true;
        }
    }
    document.onclick = function(){
        olist.style.display = "none";
        onOff = true;
    }

    for(var i=0;i<ali.length;i++){
        ali[i].index = i;
        ali[i].onmouseover = function(){
            index = this.index;
            setAction();
        }
        ali[i].onclick = function(){
            otxt.value = this.innerHTML;
            index = this.index;
        }
    }

    // 14.添加键盘事件,找到上下回车键
    document.onkeydown = function(eve){
        // 18.判断list如果没有显示，那么就没有键盘事件
        if(onOff) return;

        var e = eve || window.event;
        var code = e.keyCode || e.which;

        if(code == 38){
            // console.log("上")
            // 15-1.按下 上 时,修改索引减少,并设置当前项
            if(index == 0){
                index = 0
            }else{
                index --
            }
            setAction()
            otxt.value = ali[index].innerHTML;
        }
        if(code == 40){
            // console.log("下")
            // 15-2.按下 下 时,修改索引增加,并设置当前项
            if(index == ali.length-1){
                index = ali.length-1
            }else{
                index ++ 
            }
            setAction();
            otxt.value = ali[index].innerHTML;
        }
        if(code == 13){
            // 16.回车隐藏list，同时要修改开关为打开的状态,准备下次操作打开
            olist.style.display = "none";
            onOff = true
        }
    }

    // 功能：取消所有元素的active，给当前指定的元素加上active
    function setAction(){
        for(var j=0;j<ali.length;j++){
            ali[j].className = "";
        }
        ali[index].className = "active";
    }
</script>
</html>